"use strict";(self.webpackChunksigmasoft_datatable_bundle_docs=self.webpackChunksigmasoft_datatable_bundle_docs||[]).push([[1623],{9363:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"user-guide/customization","title":"Personnalisation Avanc\xe9e","description":"Guide complet pour personnaliser et \xe9tendre le SigmasoftDataTableBundle selon vos besoins sp\xe9cifiques. \ud83c\udfa8","source":"@site/docs/user-guide/customization.md","sourceDirName":"user-guide","slug":"/user-guide/customization","permalink":"/SigmasoftDataTableBundle/docs/user-guide/customization","draft":false,"unlisted":false,"editUrl":"https://github.com/Chancel18/SigmasoftDataTableBundle/tree/master/docs/docs/user-guide/customization.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Utilisation de Base","permalink":"/SigmasoftDataTableBundle/docs/user-guide/basic-usage"},"next":{"title":"Architecture du Bundle","permalink":"/SigmasoftDataTableBundle/docs/developer-guide/architecture"}}');var s=t(4848),r=t(8453);const i={sidebar_position:2},o="Personnalisation Avanc\xe9e",l={},c=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Personnalisation par Configuration",id:"personnalisation-par-configuration",level:2},{value:"Configuration YAML Avanc\xe9e",id:"configuration-yaml-avanc\xe9e",level:3},{value:"Configuration PHP Programmatique",id:"configuration-php-programmatique",level:3},{value:"Renderers Personnalis\xe9s",id:"renderers-personnalis\xe9s",level:2},{value:"Cr\xe9ation d&#39;un Renderer de Badge de Stock",id:"cr\xe9ation-dun-renderer-de-badge-de-stock",level:3},{value:"Renderer pour Liste de Tags",id:"renderer-pour-liste-de-tags",level:3},{value:"Renderer d&#39;Image avec Lightbox",id:"renderer-dimage-avec-lightbox",level:3},{value:"Templates Personnalis\xe9s",id:"templates-personnalis\xe9s",level:2},{value:"Template de Ligne Personnalis\xe9",id:"template-de-ligne-personnalis\xe9",level:3},{value:"Cellules Sp\xe9cialis\xe9es",id:"cellules-sp\xe9cialis\xe9es",level:3},{value:"Event Listeners Personnalis\xe9s",id:"event-listeners-personnalis\xe9s",level:2},{value:"Listener pour Actions Automatiques",id:"listener-pour-actions-automatiques",level:3},{value:"Assets Personnalis\xe9s",id:"assets-personnalis\xe9s",level:2},{value:"CSS Personnalis\xe9",id:"css-personnalis\xe9",level:3},{value:"JavaScript Avanc\xe9",id:"javascript-avanc\xe9",level:3},{value:"Support et Ressources",id:"support-et-ressources",level:2},{value:"Documentation Compl\xe8te",id:"documentation-compl\xe8te",level:3},{value:"Communaut\xe9 et Support",id:"communaut\xe9-et-support",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"personnalisation-avanc\xe9e",children:"Personnalisation Avanc\xe9e"})}),"\n",(0,s.jsx)(n.p,{children:"Guide complet pour personnaliser et \xe9tendre le SigmasoftDataTableBundle selon vos besoins sp\xe9cifiques. \ud83c\udfa8"}),"\n",(0,s.jsx)(n.h2,{id:"vue-densemble",children:"Vue d'ensemble"}),"\n",(0,s.jsx)(n.p,{children:"Le SigmasoftDataTableBundle offre plusieurs niveaux de personnalisation :"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configuration YAML/PHP"})," : Personnalisation d\xe9clarative"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Templates Twig"})," : Surcharge des vues"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Renderers personnalis\xe9s"})," : Types de colonnes sur mesure"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Event Listeners"})," : Logique m\xe9tier personnalis\xe9e"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Styles CSS"})," : Apparence visuelle"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"JavaScript Stimulus"})," : Interactions avanc\xe9es"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"personnalisation-par-configuration",children:"Personnalisation par Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"configuration-yaml-avanc\xe9e",children:"Configuration YAML Avanc\xe9e"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="config/packages/sigmasoft_data_table.yaml"',children:"sigmasoft_data_table:\n    # Th\xe8me global\n    theme:\n        variant: 'bootstrap5'  # bootstrap5, tailwind, custom\n        color_scheme: 'light'  # light, dark, auto\n        table_style: 'striped' # striped, bordered, hover, sm\n        responsive: true\n        sticky_header: true\n    \n    # Templates par d\xe9faut\n    templates:\n        table: '@SigmasoftDataTable/components/table.html.twig'\n        pagination: '@SigmasoftDataTable/components/pagination.html.twig'\n        search: '@SigmasoftDataTable/components/search.html.twig'\n        actions: '@SigmasoftDataTable/components/actions.html.twig'\n        filters: '@SigmasoftDataTable/components/filters.html.twig'\n    \n    # Configuration globale des colonnes\n    column_defaults:\n        text:\n            css_class: 'text-start'\n            searchable: true\n            sortable: true\n        date:\n            format: 'd/m/Y H:i'\n            timezone: 'Europe/Paris'\n            css_class: 'text-nowrap'\n        boolean:\n            true_label: 'Oui'\n            false_label: 'Non'\n            true_class: 'badge bg-success'\n            false_class: 'badge bg-danger'\n        relation:\n            limit: 50\n            cache_ttl: 3600\n    \n    # Configuration des entit\xe9s\n    entities:\n        'App\\Entity\\Product':\n            # M\xe9tadonn\xe9es\n            label: 'Catalogue Produits'\n            description: 'Gestion compl\xe8te du catalogue produits'\n            icon: 'fas fa-box'\n            \n            # S\xe9curit\xe9\n            security:\n                view_role: 'ROLE_PRODUCT_VIEW'\n                edit_role: 'ROLE_PRODUCT_EDIT'\n                delete_role: 'ROLE_PRODUCT_DELETE'\n                owner_field: 'user'  # Pour la s\xe9curit\xe9 par propri\xe9taire\n            \n            # Pagination avanc\xe9e\n            pagination:\n                items_per_page: 25\n                items_per_page_choices: [10, 25, 50, 100]\n                max_items: 1000\n                strategy: 'sliding'  # sliding, simple\n                page_range: 5\n            \n            # Recherche configur\xe9e\n            search:\n                enabled: true\n                placeholder: 'Rechercher un produit...'\n                min_length: 2\n                highlight_results: true\n                fields: ['name', 'description', 'sku']\n                boost: # Pond\xe9ration des champs\n                    name: 2.0\n                    sku: 1.5\n                    description: 1.0\n            \n            # Tri par d\xe9faut\n            default_sort:\n                field: 'createdAt'\n                direction: 'desc'\n            \n            # Templates personnalis\xe9s\n            templates:\n                row: 'admin/product/_row.html.twig'\n                empty: 'admin/product/_empty.html.twig'\n                loading: 'admin/product/_loading.html.twig'\n            \n            # CSS et JS personnalis\xe9s\n            assets:\n                stylesheets:\n                    - 'css/admin/product-table.css'\n                javascripts:\n                    - 'js/admin/product-table.js'\n            \n            # Configuration des champs\n            fields:\n                # Image du produit\n                image:\n                    type: 'image'\n                    label: 'Image'\n                    width: '80px'\n                    sortable: false\n                    searchable: false\n                    options:\n                        thumbnail_size: [60, 60]\n                        default_image: '/images/no-image.png'\n                        link_to_full: true\n                        css_class: 'text-center'\n                \n                # SKU avec formatage\n                sku:\n                    type: 'string'\n                    label: 'SKU'\n                    searchable: true\n                    sortable: true\n                    width: '120px'\n                    css_class: 'font-monospace fw-bold'\n                    transform: 'strtoupper'\n                \n                # Nom avec lien\n                name:\n                    type: 'link'\n                    label: 'Nom du Produit'\n                    searchable: true\n                    sortable: true\n                    options:\n                        route: 'product_show'\n                        route_params: ['id']\n                        target: '_blank'\n                        css_class: 'fw-bold text-primary'\n                \n                # Prix avec formatage\n                price:\n                    type: 'currency'\n                    label: 'Prix'\n                    sortable: true\n                    searchable: false\n                    width: '100px'\n                    options:\n                        currency: 'EUR'\n                        locale: 'fr_FR'\n                        precision: 2\n                        css_class: 'text-end fw-bold'\n                \n                # Stock avec badge color\xe9\n                stock:\n                    type: 'number'\n                    label: 'Stock'\n                    sortable: true\n                    searchable: false\n                    width: '80px'\n                    renderer: 'stock_badge'\n                    css_class: 'text-center'\n                \n                # Cat\xe9gorie avec relation\n                category:\n                    type: 'relation'\n                    label: 'Cat\xe9gorie'\n                    relation:\n                        entity: 'App\\Entity\\Category'\n                        field: 'name'\n                        route: 'category_show'\n                        route_params: ['id']\n                    searchable: true\n                    sortable: true\n                    css_class: 'text-muted'\n                \n                # Tags multiples\n                tags:\n                    type: 'collection'\n                    label: 'Tags'\n                    relation:\n                        entity: 'App\\Entity\\Tag'\n                        field: 'name'\n                    renderer: 'tag_list'\n                    searchable: false\n                    sortable: false\n                \n                # Statut avec badge\n                status:\n                    type: 'choice'\n                    label: 'Statut'\n                    sortable: true\n                    searchable: true\n                    width: '120px'\n                    choices:\n                        draft: 'Brouillon'\n                        published: 'Publi\xe9'\n                        archived: 'Archiv\xe9'\n                    choice_options:\n                        draft: \n                            badge_class: 'bg-secondary'\n                            icon: 'fas fa-edit'\n                        published: \n                            badge_class: 'bg-success'\n                            icon: 'fas fa-check'\n                        archived: \n                            badge_class: 'bg-warning'\n                            icon: 'fas fa-archive'\n                \n                # Date de cr\xe9ation format\xe9e\n                createdAt:\n                    type: 'datetime'\n                    label: 'Cr\xe9\xe9 le'\n                    format: 'd/m/Y \xe0 H:i'\n                    timezone: 'Europe/Paris'\n                    sortable: true\n                    searchable: false\n                    width: '140px'\n                    css_class: 'text-muted small'\n            \n            # Actions personnalis\xe9es\n            actions:\n                # Action de vue\n                view:\n                    label: 'Voir'\n                    icon: 'fas fa-eye'\n                    route: 'product_show'\n                    variant: 'info'\n                    size: 'sm'\n                    condition: '@security.isGranted(\"PRODUCT_VIEW\", object)'\n                \n                # Action d'\xe9dition\n                edit:\n                    label: 'Modifier'\n                    icon: 'fas fa-edit'\n                    route: 'product_edit'\n                    variant: 'warning'\n                    size: 'sm'\n                    condition: '@security.isGranted(\"PRODUCT_EDIT\", object)'\n                \n                # Action de duplication\n                duplicate:\n                    label: 'Dupliquer'\n                    icon: 'fas fa-copy'\n                    route: 'product_duplicate'\n                    variant: 'secondary'\n                    size: 'sm'\n                    condition: '@security.isGranted(\"PRODUCT_CREATE\")'\n                    confirm: true\n                    confirm_message: 'Dupliquer ce produit ?'\n                \n                # Action de suppression\n                delete:\n                    label: 'Supprimer'\n                    icon: 'fas fa-trash'\n                    route: 'product_delete'\n                    variant: 'danger'\n                    size: 'sm'\n                    condition: '@security.isGranted(\"PRODUCT_DELETE\", object)'\n                    confirm: true\n                    confirm_message: '\xcates-vous s\xfbr de vouloir supprimer ce produit ? Cette action est irr\xe9versible.'\n                    confirm_button: 'Oui, supprimer'\n                    cancel_button: 'Annuler'\n            \n            # Actions group\xe9es\n            bulk_actions:\n                enabled: true\n                actions:\n                    publish:\n                        label: 'Publier'\n                        icon: 'fas fa-check'\n                        variant: 'success'\n                        route: 'product_bulk_publish'\n                        confirm: true\n                        confirm_message: 'Publier les produits s\xe9lectionn\xe9s ?'\n                    \n                    archive:\n                        label: 'Archiver'\n                        icon: 'fas fa-archive'\n                        variant: 'warning'\n                        route: 'product_bulk_archive'\n                        confirm: true\n                    \n                    delete:\n                        label: 'Supprimer'\n                        icon: 'fas fa-trash'\n                        variant: 'danger'\n                        route: 'product_bulk_delete'\n                        confirm: true\n                        confirm_message: 'Supprimer d\xe9finitivement les produits s\xe9lectionn\xe9s ?'\n            \n            # Filtres avanc\xe9s\n            filters:\n                category:\n                    type: 'entity'\n                    label: 'Cat\xe9gorie'\n                    entity: 'App\\Entity\\Category'\n                    choice_label: 'name'\n                    placeholder: 'Toutes les cat\xe9gories'\n                    multiple: true\n                \n                price_range:\n                    type: 'number_range'\n                    label: 'Fourchette de prix'\n                    options:\n                        min_placeholder: 'Prix min'\n                        max_placeholder: 'Prix max'\n                        currency: '\u20ac'\n                \n                status:\n                    type: 'select'\n                    label: 'Statut'\n                    choices:\n                        '': 'Tous les statuts'\n                        draft: 'Brouillons'\n                        published: 'Publi\xe9s'\n                        archived: 'Archiv\xe9s'\n                \n                has_image:\n                    type: 'boolean'\n                    label: 'Avec image'\n                    choices:\n                        '': 'Tous'\n                        '1': 'Avec image'\n                        '0': 'Sans image'\n                \n                created_at:\n                    type: 'date_range'\n                    label: 'P\xe9riode de cr\xe9ation'\n                    options:\n                        start_placeholder: 'Date de d\xe9but'\n                        end_placeholder: 'Date de fin'\n            \n            # Export personnalis\xe9\n            export:\n                enabled: true\n                formats: ['csv', 'excel', 'pdf']\n                filename_pattern: 'produits_{date}_{time}'\n                options:\n                    csv:\n                        delimiter: ';'\n                        enclosure: '\"'\n                        encoding: 'UTF-8'\n                        include_bom: true\n                    excel:\n                        sheet_name: 'Produits'\n                        auto_filter: true\n                        freeze_first_row: true\n                        column_widths:\n                            sku: 15\n                            name: 30\n                            price: 12\n                    pdf:\n                        orientation: 'landscape'\n                        format: 'A4'\n                        title: 'Catalogue Produits'\n                        header: true\n                        footer: true\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configuration-php-programmatique",children:"Configuration PHP Programmatique"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",metastring:'title="src/Config/DataTable/ProductDataTableConfig.php"',children:"<?php\n\ndeclare(strict_types=1);\n\nnamespace App\\Config\\DataTable;\n\nuse App\\Entity\\Product;\nuse App\\Security\\ProductVoter;\nuse Sigmasoft\\DataTableBundle\\Configuration\\AbstractDataTableConfiguration;\nuse Sigmasoft\\DataTableBundle\\Configuration\\DataTableConfiguration;\nuse Symfony\\Component\\Security\\Core\\Security;\n\nclass ProductDataTableConfig extends AbstractDataTableConfiguration\n{\n    public function __construct(\n        private readonly Security $security\n    ) {}\n\n    public function configure(DataTableConfiguration $config): void\n    {\n        $config\n            ->setEntityClass(Product::class)\n            ->setLabel('Catalogue Produits')\n            ->setDescription('Gestion compl\xe8te du catalogue produits')\n            ->setIcon('fas fa-box')\n            \n            // Configuration de base\n            ->setItemsPerPage(25)\n            ->setEnableSearch(true)\n            ->setEnableSort(true)\n            ->setEnablePagination(true)\n            ->setTableClass('table table-striped table-hover')\n            \n            // S\xe9curit\xe9\n            ->setViewRole('ROLE_PRODUCT_VIEW')\n            ->setEditRole('ROLE_PRODUCT_EDIT')\n            ->setDeleteRole('ROLE_PRODUCT_DELETE')\n            \n            // Configuration des champs avec logique conditionnelle\n            ->addField('image', [\n                'type' => 'image',\n                'label' => 'Image',\n                'width' => '80px',\n                'options' => [\n                    'thumbnail_size' => [60, 60],\n                    'default_image' => '/images/no-image.png'\n                ]\n            ])\n            \n            ->addField('sku', [\n                'type' => 'string',\n                'label' => 'SKU',\n                'css_class' => 'font-monospace fw-bold',\n                'transform' => 'strtoupper'\n            ])\n            \n            ->addField('name', [\n                'type' => 'link',\n                'label' => 'Nom du Produit',\n                'options' => [\n                    'route' => 'product_show',\n                    'route_params' => ['id'],\n                    'css_class' => 'fw-bold text-primary'\n                ]\n            ])\n            \n            ->addField('price', [\n                'type' => 'currency',\n                'label' => 'Prix',\n                'width' => '100px',\n                'options' => [\n                    'currency' => 'EUR',\n                    'locale' => 'fr_FR',\n                    'css_class' => 'text-end fw-bold'\n                ]\n            ])\n            \n            ->addField('stock', [\n                'type' => 'number',\n                'label' => 'Stock',\n                'renderer' => 'stock_badge',\n                'css_class' => 'text-center'\n            ])\n            \n            ->addField('category', [\n                'type' => 'relation',\n                'label' => 'Cat\xe9gorie',\n                'relation' => [\n                    'entity' => 'App\\Entity\\Category',\n                    'field' => 'name'\n                ]\n            ])\n            \n            ->addField('status', [\n                'type' => 'choice',\n                'label' => 'Statut',\n                'choices' => [\n                    'draft' => 'Brouillon',\n                    'published' => 'Publi\xe9',\n                    'archived' => 'Archiv\xe9'\n                ],\n                'choice_options' => [\n                    'draft' => ['badge_class' => 'bg-secondary'],\n                    'published' => ['badge_class' => 'bg-success'],\n                    'archived' => ['badge_class' => 'bg-warning']\n                ]\n            ])\n            \n            ->addField('createdAt', [\n                'type' => 'datetime',\n                'label' => 'Cr\xe9\xe9 le',\n                'format' => 'd/m/Y \xe0 H:i'\n            ]);\n        \n        // Actions conditionnelles bas\xe9es sur les permissions\n        if ($this->security->isGranted('ROLE_PRODUCT_VIEW')) {\n            $config->addAction('view', [\n                'label' => 'Voir',\n                'icon' => 'fas fa-eye',\n                'route' => 'product_show',\n                'variant' => 'info'\n            ]);\n        }\n        \n        if ($this->security->isGranted('ROLE_PRODUCT_EDIT')) {\n            $config->addAction('edit', [\n                'label' => 'Modifier',\n                'icon' => 'fas fa-edit',\n                'route' => 'product_edit',\n                'variant' => 'warning'\n            ]);\n        }\n        \n        if ($this->security->isGranted('ROLE_PRODUCT_DELETE')) {\n            $config->addAction('delete', [\n                'label' => 'Supprimer',\n                'icon' => 'fas fa-trash',\n                'route' => 'product_delete',\n                'variant' => 'danger',\n                'confirm' => true\n            ]);\n        }\n        \n        // Filtres bas\xe9s sur le contexte utilisateur\n        $config\n            ->addFilter('category', [\n                'type' => 'entity',\n                'entity' => 'App\\Entity\\Category',\n                'choice_label' => 'name'\n            ])\n            ->addFilter('status', [\n                'type' => 'select',\n                'choices' => [\n                    '' => 'Tous les statuts',\n                    'draft' => 'Brouillons',\n                    'published' => 'Publi\xe9s',\n                    'archived' => 'Archiv\xe9s'\n                ]\n            ]);\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"renderers-personnalis\xe9s",children:"Renderers Personnalis\xe9s"}),"\n",(0,s.jsx)(n.h3,{id:"cr\xe9ation-dun-renderer-de-badge-de-stock",children:"Cr\xe9ation d'un Renderer de Badge de Stock"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",metastring:'title="src/DataTable/Renderer/StockBadgeRenderer.php"',children:"<?php\n\ndeclare(strict_types=1);\n\nnamespace App\\DataTable\\Renderer;\n\nuse Sigmasoft\\DataTableBundle\\Column\\ColumnInterface;\nuse Sigmasoft\\DataTableBundle\\Renderer\\AbstractColumnRenderer;\n\nclass StockBadgeRenderer extends AbstractColumnRenderer\n{\n    public function supports(string $type): bool\n    {\n        return $type === 'stock_badge';\n    }\n\n    public function render(mixed $value, object $entity, ColumnInterface $column): string\n    {\n        $stock = (int) $value;\n        \n        // D\xe9terminer la classe CSS bas\xe9e sur le niveau de stock\n        [$badgeClass, $icon, $text] = match (true) {\n            $stock <= 0 => ['bg-danger', 'fas fa-times-circle', 'Rupture'],\n            $stock <= 5 => ['bg-warning text-dark', 'fas fa-exclamation-triangle', 'Faible'],\n            $stock <= 20 => ['bg-info', 'fas fa-info-circle', 'Moyen'],\n            default => ['bg-success', 'fas fa-check-circle', 'Bon']\n        };\n        \n        return sprintf(\n            '<span class=\"badge %s\" title=\"Stock: %d unit\xe9s\" data-bs-toggle=\"tooltip\">\n                <i class=\"%s me-1\"></i>\n                %s (%d)\n            </span>',\n            $badgeClass,\n            $stock,\n            $icon,\n            $text,\n            $stock\n        );\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"renderer-pour-liste-de-tags",children:"Renderer pour Liste de Tags"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",metastring:'title="src/DataTable/Renderer/TagListRenderer.php"',children:"<?php\n\ndeclare(strict_types=1);\n\nnamespace App\\DataTable\\Renderer;\n\nuse Doctrine\\Common\\Collections\\Collection;\nuse Sigmasoft\\DataTableBundle\\Column\\ColumnInterface;\nuse Sigmasoft\\DataTableBundle\\Renderer\\AbstractColumnRenderer;\n\nclass TagListRenderer extends AbstractColumnRenderer\n{\n    public function supports(string $type): bool\n    {\n        return $type === 'tag_list';\n    }\n\n    public function render(mixed $value, object $entity, ColumnInterface $column): string\n    {\n        if (!$value instanceof Collection || $value->isEmpty()) {\n            return '<span class=\"text-muted small\">Aucun tag</span>';\n        }\n        \n        $tags = [];\n        $maxTags = 3; // Limiter l'affichage\n        $count = 0;\n        \n        foreach ($value as $tag) {\n            if ($count >= $maxTags) {\n                $remaining = $value->count() - $maxTags;\n                $tags[] = sprintf(\n                    '<span class=\"badge bg-secondary\" data-bs-toggle=\"tooltip\" title=\"et %d autres\">\n                        +%d\n                    </span>',\n                    $remaining,\n                    $remaining\n                );\n                break;\n            }\n            \n            $color = $tag->getColor() ?: '#6c757d';\n            $tags[] = sprintf(\n                '<span class=\"badge\" style=\"background-color: %s\" data-bs-toggle=\"tooltip\" title=\"%s\">\n                    %s\n                </span>',\n                htmlspecialchars($color),\n                htmlspecialchars($tag->getDescription() ?: ''),\n                htmlspecialchars($tag->getName())\n            );\n            \n            $count++;\n        }\n        \n        return '<div class=\"d-flex flex-wrap gap-1\">' . implode(' ', $tags) . '</div>';\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"renderer-dimage-avec-lightbox",children:"Renderer d'Image avec Lightbox"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",metastring:'title="src/DataTable/Renderer/ImageRenderer.php"',children:'<?php\n\ndeclare(strict_types=1);\n\nnamespace App\\DataTable\\Renderer;\n\nuse Sigmasoft\\DataTableBundle\\Column\\ColumnInterface;\nuse Sigmasoft\\DataTableBundle\\Renderer\\AbstractColumnRenderer;\nuse Symfony\\Component\\Asset\\Packages;\n\nclass ImageRenderer extends AbstractColumnRenderer\n{\n    public function __construct(\n        private readonly Packages $packages\n    ) {}\n\n    public function supports(string $type): bool\n    {\n        return $type === \'image\';\n    }\n\n    public function render(mixed $value, object $entity, ColumnInterface $column): string\n    {\n        $options = $column->getOptions();\n        $thumbnailSize = $options[\'thumbnail_size\'] ?? [60, 60];\n        $defaultImage = $options[\'default_image\'] ?? \'/images/no-image.png\';\n        $linkToFull = $options[\'link_to_full\'] ?? true;\n        \n        // Chemin de l\'image\n        $imagePath = $value ? $this->packages->getUrl($value) : $defaultImage;\n        \n        // G\xe9n\xe9rer la miniature\n        $thumbnail = $this->generateThumbnail($imagePath, $thumbnailSize);\n        \n        $imgTag = sprintf(\n            \'<img src="%s" alt="Image" class="img-thumbnail" style="width: %dpx; height: %dpx; object-fit: cover;" loading="lazy">\',\n            htmlspecialchars($thumbnail),\n            $thumbnailSize[0],\n            $thumbnailSize[1]\n        );\n        \n        // Ajouter le lien vers l\'image compl\xe8te si demand\xe9\n        if ($linkToFull && $value) {\n            return sprintf(\n                \'<a href="%s" data-bs-toggle="modal" data-bs-target="#imageModal" data-image-src="%s" class="text-decoration-none">\n                    %s\n                </a>\',\n                htmlspecialchars($imagePath),\n                htmlspecialchars($imagePath),\n                $imgTag\n            );\n        }\n        \n        return $imgTag;\n    }\n    \n    private function generateThumbnail(string $imagePath, array $size): string\n    {\n        // Ici vous pourriez int\xe9grer LiipImagineBundle ou un autre syst\xe8me de miniatures\n        // Pour cet exemple, on retourne l\'image originale\n        return $imagePath;\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"templates-personnalis\xe9s",children:"Templates Personnalis\xe9s"}),"\n",(0,s.jsx)(n.h3,{id:"template-de-ligne-personnalis\xe9",children:"Template de Ligne Personnalis\xe9"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-twig",metastring:'title="templates/admin/product/_row.html.twig"',children:"{# Template personnalis\xe9 pour les lignes de produits #}\n<tr class=\"product-row {{ product.isActive ? '' : 'table-warning' }}\" \n    data-product-id=\"{{ product.id }}\"\n    data-product-status=\"{{ product.status }}\">\n    \n    {% if config.bulkActionsEnabled %}\n        <td class=\"text-center\">\n            <input type=\"checkbox\" \n                   class=\"form-check-input bulk-select\" \n                   value=\"{{ product.id }}\"\n                   data-bs-toggle=\"tooltip\" \n                   title=\"S\xe9lectionner ce produit\">\n        </td>\n    {% endif %}\n    \n    {% for column in config.columns %}\n        <td class=\"{{ column.cssClass|default('') }} {{ column.align|default('start') }}\"\n            {% if column.width %}style=\"width: {{ column.width }}\"{% endif %}>\n            \n            {% set value = attribute(product, column.property) %}\n            \n            {# Logique de rendu personnalis\xe9e par type de colonne #}\n            {% if column.type == 'image' %}\n                {% include 'admin/product/_cell_image.html.twig' with {\n                    'product': product,\n                    'value': value,\n                    'options': column.options\n                } %}\n                \n            {% elseif column.type == 'price' %}\n                {% include 'admin/product/_cell_price.html.twig' with {\n                    'product': product,\n                    'value': value\n                } %}\n                \n            {% elseif column.type == 'stock' %}\n                {% include 'admin/product/_cell_stock.html.twig' with {\n                    'product': product,\n                    'value': value\n                } %}\n                \n            {% elseif column.type == 'status' %}\n                {% include 'admin/product/_cell_status.html.twig' with {\n                    'product': product,\n                    'value': value\n                } %}\n                \n            {% else %}\n                {# Rendu par d\xe9faut #}\n                {{ datatable_cell_render(value, product, column) }}\n            {% endif %}\n        </td>\n    {% endfor %}\n    \n    {# Colonne d'actions #}\n    {% if config.actions is not empty %}\n        <td class=\"text-end text-nowrap\">\n            <div class=\"btn-group btn-group-sm\" role=\"group\">\n                {% for action in config.actions %}\n                    {% if action.condition is not defined or action.condition %}\n                        <a href=\"{{ path(action.route, action.routeParams|default({})) }}\"\n                           class=\"btn btn-outline-{{ action.variant|default('primary') }}\"\n                           {% if action.confirm %}\n                               data-bs-toggle=\"modal\"\n                               data-bs-target=\"#confirmModal\"\n                               data-action-url=\"{{ path(action.route, action.routeParams|default({})) }}\"\n                               data-confirm-message=\"{{ action.confirmMessage|default('\xcates-vous s\xfbr ?') }}\"\n                           {% endif %}\n                           data-bs-toggle=\"tooltip\"\n                           title=\"{{ action.label }}\">\n                            {% if action.icon %}\n                                <i class=\"{{ action.icon }}\"></i>\n                            {% else %}\n                                {{ action.label }}\n                            {% endif %}\n                        </a>\n                    {% endif %}\n                {% endfor %}\n            </div>\n        </td>\n    {% endif %}\n</tr>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"cellules-sp\xe9cialis\xe9es",children:"Cellules Sp\xe9cialis\xe9es"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-twig",metastring:'title="templates/admin/product/_cell_price.html.twig"',children:"{# Cellule de prix avec indicateurs visuels #}\n{% set isOnSale = product.salePrice and product.salePrice < product.price %}\n\n<div class=\"price-cell\">\n    {% if isOnSale %}\n        <div class=\"d-flex flex-column\">\n            <span class=\"text-decoration-line-through text-muted small\">\n                {{ product.price|format_currency('EUR', locale='fr') }}\n            </span>\n            <span class=\"fw-bold text-danger\">\n                {{ product.salePrice|format_currency('EUR', locale='fr') }}\n                <span class=\"badge bg-danger ms-1\">PROMO</span>\n            </span>\n        </div>\n    {% else %}\n        <span class=\"fw-bold\">\n            {{ value|format_currency('EUR', locale='fr') }}\n        </span>\n    {% endif %}\n    \n    {% if product.costPrice %}\n        <div class=\"text-muted small\">\n            Co\xfbt: {{ product.costPrice|format_currency('EUR', locale='fr') }}\n            {% set margin = ((value - product.costPrice) / value * 100)|round(1) %}\n            <span class=\"badge bg-{{ margin > 50 ? 'success' : (margin > 30 ? 'warning' : 'danger') }}\">\n                {{ margin }}%\n            </span>\n        </div>\n    {% endif %}\n</div>\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-twig",metastring:'title="templates/admin/product/_cell_stock.html.twig"',children:"{# Cellule de stock avec indicateur de niveau #}\n{% set stockLevel = value %}\n{% set stockClass = stockLevel <= 0 ? 'danger' : (stockLevel <= 5 ? 'warning' : (stockLevel <= 20 ? 'info' : 'success')) %}\n{% set stockIcon = stockLevel <= 0 ? 'times-circle' : (stockLevel <= 5 ? 'exclamation-triangle' : (stockLevel <= 20 ? 'info-circle' : 'check-circle')) %}\n\n<div class=\"stock-cell text-center\">\n    <span class=\"badge bg-{{ stockClass }}\" \n          data-bs-toggle=\"tooltip\" \n          title=\"Stock actuel: {{ stockLevel }} unit\xe9s\">\n        <i class=\"fas fa-{{ stockIcon }} me-1\"></i>\n        {{ stockLevel }}\n    </span>\n    \n    {% if product.reservedStock > 0 %}\n        <div class=\"text-muted small mt-1\">\n            <i class=\"fas fa-lock me-1\"></i>\n            {{ product.reservedStock }} r\xe9serv\xe9{{ product.reservedStock > 1 ? 's' : '' }}\n        </div>\n    {% endif %}\n    \n    {% if product.stockAlert and stockLevel <= product.stockAlert %}\n        <div class=\"text-warning small mt-1\">\n            <i class=\"fas fa-bell me-1\"></i>\n            Seuil d'alerte\n        </div>\n    {% endif %}\n</div>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"event-listeners-personnalis\xe9s",children:"Event Listeners Personnalis\xe9s"}),"\n",(0,s.jsx)(n.h3,{id:"listener-pour-actions-automatiques",children:"Listener pour Actions Automatiques"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",metastring:'title="src/EventListener/DataTableEventListener.php"',children:"<?php\n\ndeclare(strict_types=1);\n\nnamespace App\\EventListener;\n\nuse Sigmasoft\\DataTableBundle\\Event\\DataTableEvent;\nuse Sigmasoft\\DataTableBundle\\Event\\DataTableEvents;\nuse Symfony\\Component\\EventDispatcher\\EventSubscriberInterface;\nuse Psr\\Log\\LoggerInterface;\n\nclass DataTableEventListener implements EventSubscriberInterface\n{\n    public function __construct(\n        private readonly LoggerInterface $logger\n    ) {}\n\n    public static function getSubscribedEvents(): array\n    {\n        return [\n            DataTableEvents::PRE_QUERY => 'onPreQuery',\n            DataTableEvents::POST_QUERY => 'onPostQuery',\n            DataTableEvents::PRE_RENDER => 'onPreRender',\n            DataTableEvents::POST_RENDER => 'onPostRender',\n            DataTableEvents::INLINE_EDIT => 'onInlineEdit',\n            DataTableEvents::BULK_ACTION => 'onBulkAction',\n        ];\n    }\n\n    public function onPreQuery(DataTableEvent $event): void\n    {\n        $this->logger->info('DataTable query started', [\n            'entity' => $event->getEntityClass(),\n            'search' => $event->getSearchTerm(),\n            'sort' => $event->getSortField(),\n            'page' => $event->getCurrentPage()\n        ]);\n        \n        // Modifier la requ\xeate si n\xe9cessaire\n        $queryBuilder = $event->getQueryBuilder();\n        \n        // Exemple: filtrer par utilisateur connect\xe9\n        if ($event->getEntityClass() === 'App\\Entity\\Product') {\n            $queryBuilder\n                ->andWhere('e.owner = :current_user')\n                ->setParameter('current_user', $this->getCurrentUser());\n        }\n    }\n\n    public function onPostQuery(DataTableEvent $event): void\n    {\n        $results = $event->getResults();\n        \n        $this->logger->info('DataTable query completed', [\n            'entity' => $event->getEntityClass(),\n            'total_items' => $results->getTotalItemCount(),\n            'current_page_items' => count($results->getItems())\n        ]);\n        \n        // Post-traitement des r\xe9sultats\n        foreach ($results->getItems() as $item) {\n            // Exemple: lazy loading de relations\n            if (method_exists($item, 'getImages')) {\n                $item->getImages()->initialize();\n            }\n        }\n    }\n\n    public function onPreRender(DataTableEvent $event): void\n    {\n        // Ajouter des variables globales au template\n        $event->addTemplateVariable('current_user', $this->getCurrentUser());\n        $event->addTemplateVariable('app_name', 'Mon Application');\n        \n        // Modifier la configuration \xe0 la vol\xe9e\n        $config = $event->getConfiguration();\n        \n        // Exemple: masquer certaines colonnes selon les permissions\n        if (!$this->isGranted('ROLE_ADMIN')) {\n            $config->hideColumn('price');\n            $config->hideColumn('cost');\n        }\n    }\n\n    public function onPostRender(DataTableEvent $event): void\n    {\n        $this->logger->debug('DataTable rendered', [\n            'entity' => $event->getEntityClass(),\n            'render_time' => $event->getRenderTime()\n        ]);\n    }\n\n    public function onInlineEdit(DataTableEvent $event): void\n    {\n        $entity = $event->getEntity();\n        $field = $event->getField();\n        $oldValue = $event->getOldValue();\n        $newValue = $event->getNewValue();\n        \n        $this->logger->info('Inline edit performed', [\n            'entity_class' => get_class($entity),\n            'entity_id' => method_exists($entity, 'getId') ? $entity->getId() : null,\n            'field' => $field,\n            'old_value' => $oldValue,\n            'new_value' => $newValue\n        ]);\n        \n        // Logique m\xe9tier personnalis\xe9e\n        if ($field === 'status' && $newValue === 'published') {\n            // Envoyer une notification\n            $this->notifyStatusChange($entity, $newValue);\n        }\n    }\n\n    public function onBulkAction(DataTableEvent $event): void\n    {\n        $action = $event->getBulkAction();\n        $entities = $event->getEntities();\n        \n        $this->logger->info('Bulk action performed', [\n            'action' => $action,\n            'entity_count' => count($entities)\n        ]);\n        \n        // Actions personnalis\xe9es apr\xe8s une action group\xe9e\n        if ($action === 'delete') {\n            $this->cleanupRelatedData($entities);\n        }\n    }\n\n    private function getCurrentUser(): ?object\n    {\n        // Impl\xe9mentation pour r\xe9cup\xe9rer l'utilisateur actuel\n        return null;\n    }\n\n    private function isGranted(string $role): bool\n    {\n        // Impl\xe9mentation pour v\xe9rifier les permissions\n        return false;\n    }\n\n    private function notifyStatusChange(object $entity, mixed $newValue): void\n    {\n        // Impl\xe9mentation des notifications\n    }\n\n    private function cleanupRelatedData(array $entities): void\n    {\n        // Nettoyage des donn\xe9es li\xe9es\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"assets-personnalis\xe9s",children:"Assets Personnalis\xe9s"}),"\n",(0,s.jsx)(n.h3,{id:"css-personnalis\xe9",children:"CSS Personnalis\xe9"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",metastring:'title="assets/styles/datatable-custom.css"',children:"/* Styles personnalis\xe9s pour SigmasoftDataTableBundle */\n\n:root {\n    --datatable-primary: #0d6efd;\n    --datatable-success: #198754;\n    --datatable-warning: #ffc107;\n    --datatable-danger: #dc3545;\n    --datatable-info: #0dcaf0;\n    --datatable-border: #dee2e6;\n    --datatable-hover: #f8f9fa;\n}\n\n/* Table principale */\n.sigmasoft-datatable {\n    --bs-table-hover-color: var(--bs-emphasis-color);\n    --bs-table-hover-bg: var(--datatable-hover);\n}\n\n.sigmasoft-datatable .table {\n    margin-bottom: 0;\n    border-collapse: separate;\n    border-spacing: 0;\n}\n\n.sigmasoft-datatable .table thead th {\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n    border: none;\n    font-weight: 600;\n    text-transform: uppercase;\n    font-size: 0.875rem;\n    letter-spacing: 0.5px;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n}\n\n/* Colonnes triables */\n.sigmasoft-datatable .table thead th.sortable {\n    cursor: pointer;\n    user-select: none;\n    transition: all 0.2s ease;\n    position: relative;\n}\n\n.sigmasoft-datatable .table thead th.sortable:hover {\n    background: linear-gradient(135deg, #5a6fd8 0%, #6b4190 100%);\n    transform: translateY(-1px);\n}\n\n.sigmasoft-datatable .table thead th.sortable::after {\n    content: '\\f0dc';\n    font-family: 'Font Awesome 6 Free';\n    font-weight: 900;\n    float: right;\n    margin-left: 8px;\n    opacity: 0.5;\n    transition: opacity 0.2s ease;\n}\n\n.sigmasoft-datatable .table thead th.sortable:hover::after {\n    opacity: 1;\n}\n\n.sigmasoft-datatable .table thead th.sortable.sorted-asc::after {\n    content: '\\f0de';\n    color: var(--datatable-warning);\n    opacity: 1;\n}\n\n.sigmasoft-datatable .table thead th.sortable.sorted-desc::after {\n    content: '\\f0dd';\n    color: var(--datatable-warning);\n    opacity: 1;\n}\n\n/* Lignes de donn\xe9es */\n.sigmasoft-datatable .table tbody tr {\n    transition: all 0.2s ease;\n    border-bottom: 1px solid var(--datatable-border);\n}\n\n.sigmasoft-datatable .table tbody tr:hover {\n    background-color: var(--datatable-hover);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    transform: translateY(-1px);\n}\n\n.sigmasoft-datatable .table tbody tr.selected {\n    background-color: rgba(13, 110, 253, 0.1);\n    border-color: var(--datatable-primary);\n}\n\n/* Cellules */\n.sigmasoft-datatable .table td {\n    vertical-align: middle;\n    padding: 12px 8px;\n    border: none;\n}\n\n/* Badges et indicateurs */\n.sigmasoft-datatable .badge {\n    font-size: 0.75rem;\n    font-weight: 500;\n    padding: 4px 8px;\n    border-radius: 4px;\n}\n\n.sigmasoft-datatable .status-badge {\n    display: inline-flex;\n    align-items: center;\n    gap: 4px;\n}\n\n.sigmasoft-datatable .stock-indicator {\n    position: relative;\n    display: inline-block;\n}\n\n.sigmasoft-datatable .stock-indicator::before {\n    content: '';\n    position: absolute;\n    top: -2px;\n    right: -2px;\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background: var(--datatable-success);\n}\n\n.sigmasoft-datatable .stock-indicator.low::before {\n    background: var(--datatable-warning);\n}\n\n.sigmasoft-datatable .stock-indicator.empty::before {\n    background: var(--datatable-danger);\n}\n\n/* Actions */\n.sigmasoft-datatable .btn-group .btn {\n    padding: 4px 8px;\n    font-size: 0.75rem;\n    border: 1px solid transparent;\n    transition: all 0.2s ease;\n}\n\n.sigmasoft-datatable .btn-group .btn:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n/* \xc9dition inline */\n.sigmasoft-datatable .inline-edit-field {\n    border: 2px dashed transparent;\n    padding: 4px 8px;\n    border-radius: 4px;\n    transition: all 0.2s ease;\n    cursor: pointer;\n    position: relative;\n}\n\n.sigmasoft-datatable .inline-edit-field:hover {\n    border-color: var(--datatable-primary);\n    background-color: rgba(13, 110, 253, 0.05);\n}\n\n.sigmasoft-datatable .inline-edit-field.editing {\n    border-color: var(--datatable-warning);\n    background-color: rgba(255, 193, 7, 0.1);\n    cursor: default;\n}\n\n.sigmasoft-datatable .inline-edit-field.saving {\n    border-color: var(--datatable-info);\n    background-color: rgba(13, 202, 240, 0.1);\n}\n\n.sigmasoft-datatable .inline-edit-field.success {\n    border-color: var(--datatable-success);\n    background-color: rgba(25, 135, 84, 0.1);\n    animation: success-pulse 0.6s ease;\n}\n\n.sigmasoft-datatable .inline-edit-field.error {\n    border-color: var(--datatable-danger);\n    background-color: rgba(220, 53, 69, 0.1);\n    animation: error-shake 0.6s ease;\n}\n\n/* Animations */\n@keyframes success-pulse {\n    0%, 100% { transform: scale(1); }\n    50% { transform: scale(1.05); }\n}\n\n@keyframes error-shake {\n    0%, 100% { transform: translateX(0); }\n    25% { transform: translateX(-5px); }\n    75% { transform: translateX(5px); }\n}\n\n/* Recherche */\n.sigmasoft-datatable .search-container {\n    position: relative;\n}\n\n.sigmasoft-datatable .search-container .search-icon {\n    position: absolute;\n    left: 12px;\n    top: 50%;\n    transform: translateY(-50%);\n    color: #6c757d;\n    z-index: 5;\n}\n\n.sigmasoft-datatable .search-container input {\n    padding-left: 40px;\n    border: 2px solid var(--datatable-border);\n    border-radius: 8px;\n    transition: all 0.2s ease;\n}\n\n.sigmasoft-datatable .search-container input:focus {\n    border-color: var(--datatable-primary);\n    box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.1);\n}\n\n/* Pagination */\n.sigmasoft-datatable .pagination {\n    margin: 0;\n}\n\n.sigmasoft-datatable .pagination .page-link {\n    border: none;\n    color: var(--datatable-primary);\n    padding: 8px 12px;\n    margin: 0 2px;\n    border-radius: 6px;\n    transition: all 0.2s ease;\n}\n\n.sigmasoft-datatable .pagination .page-link:hover {\n    background-color: var(--datatable-primary);\n    color: white;\n    transform: translateY(-1px);\n}\n\n.sigmasoft-datatable .pagination .page-item.active .page-link {\n    background-color: var(--datatable-primary);\n    color: white;\n    box-shadow: 0 2px 4px rgba(13, 110, 253, 0.3);\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n    .sigmasoft-datatable .table {\n        font-size: 0.875rem;\n    }\n    \n    .sigmasoft-datatable .table td,\n    .sigmasoft-datatable .table th {\n        padding: 8px 4px;\n    }\n    \n    .sigmasoft-datatable .btn-group .btn {\n        padding: 2px 6px;\n        font-size: 0.7rem;\n    }\n    \n    .sigmasoft-datatable .search-container input {\n        font-size: 0.875rem;\n    }\n}\n\n/* Mode sombre */\n@media (prefers-color-scheme: dark) {\n    :root {\n        --datatable-border: #495057;\n        --datatable-hover: #343a40;\n    }\n    \n    .sigmasoft-datatable .table thead th {\n        background: linear-gradient(135deg, #495057 0%, #343a40 100%);\n    }\n    \n    .sigmasoft-datatable .table tbody tr:hover {\n        background-color: var(--datatable-hover);\n    }\n}\n\n/* Impression */\n@media print {\n    .sigmasoft-datatable .btn,\n    .sigmasoft-datatable .pagination,\n    .sigmasoft-datatable .search-container {\n        display: none !important;\n    }\n    \n    .sigmasoft-datatable .table {\n        border-collapse: collapse !important;\n    }\n    \n    .sigmasoft-datatable .table,\n    .sigmasoft-datatable .table th,\n    .sigmasoft-datatable .table td {\n        border: 1px solid #000 !important;\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"javascript-avanc\xe9",children:"JavaScript Avanc\xe9"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",metastring:'title="assets/controllers/advanced_datatable_controller.js"',children:"import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n    static targets = [\n        \"table\",\n        \"searchInput\", \n        \"tableBody\", \n        \"pagination\", \n        \"loading\",\n        \"bulkSelect\",\n        \"bulkActions\",\n        \"selectedCount\"\n    ]\n    \n    static values = {\n        url: String,\n        entityClass: String,\n        autoRefresh: { type: Number, default: 0 },\n        debounceDelay: { type: Number, default: 500 }\n    }\n\n    connect() {\n        console.log(\"Advanced DataTable controller connected\")\n        \n        // \xc9tat du composant\n        this.currentPage = 1\n        this.currentSort = null\n        this.currentSearch = \"\"\n        this.selectedItems = new Set()\n        this.searchTimeout = null\n        this.refreshInterval = null\n        \n        // Configuration\n        this.isLoading = false\n        this.lastRequestTime = 0\n        \n        // Initialiser les \xe9v\xe9nements\n        this.initializeEventListeners()\n        \n        // Charger les donn\xe9es initiales\n        this.loadData()\n        \n        // Auto-refresh si configur\xe9\n        if (this.autoRefreshValue > 0) {\n            this.startAutoRefresh()\n        }\n        \n        // Initialiser les tooltips\n        this.initializeTooltips()\n    }\n\n    disconnect() {\n        console.log(\"Advanced DataTable controller disconnected\")\n        \n        if (this.refreshInterval) {\n            clearInterval(this.refreshInterval)\n        }\n        \n        if (this.searchTimeout) {\n            clearTimeout(this.searchTimeout)\n        }\n    }\n\n    // Initialisation des \xe9v\xe9nements\n    initializeEventListeners() {\n        // Gestion du redimensionnement\n        window.addEventListener('resize', this.debounce(() => {\n            this.adjustTableLayout()\n        }, 250))\n        \n        // Gestion des raccourcis clavier\n        document.addEventListener('keydown', (event) => {\n            if (event.target.closest('.sigmasoft-datatable') === this.element) {\n                this.handleKeyboardShortcuts(event)\n            }\n        })\n        \n        // Gestion de la visibilit\xe9 de la page\n        document.addEventListener('visibilitychange', () => {\n            if (document.hidden) {\n                this.pauseAutoRefresh()\n            } else {\n                this.resumeAutoRefresh()\n            }\n        })\n    }\n\n    // Recherche avec debouncing am\xe9lior\xe9\n    search(event) {\n        const searchTerm = event.target.value.trim()\n        \n        // Annuler la recherche pr\xe9c\xe9dente\n        if (this.searchTimeout) {\n            clearTimeout(this.searchTimeout)\n        }\n        \n        // Recherche imm\xe9diate si le champ est vide\n        if (searchTerm === '') {\n            this.currentSearch = ''\n            this.currentPage = 1\n            this.loadData()\n            return\n        }\n        \n        // Debouncing pour les autres cas\n        this.searchTimeout = setTimeout(() => {\n            if (searchTerm !== this.currentSearch) {\n                this.currentSearch = searchTerm\n                this.currentPage = 1\n                this.loadData()\n                \n                // Analytics/tracking\n                this.trackSearchEvent(searchTerm)\n            }\n        }, this.debounceDelayValue)\n    }\n\n    // Tri avanc\xe9 avec indicateurs visuels\n    sort(event) {\n        event.preventDefault()\n        \n        const field = event.currentTarget.dataset.field\n        const currentSort = this.currentSort\n        \n        // Calculer la nouvelle direction\n        let direction = 'asc'\n        if (currentSort && currentSort.field === field) {\n            direction = currentSort.direction === 'asc' ? 'desc' : 'asc'\n        }\n        \n        this.currentSort = { field, direction }\n        \n        // Mettre \xe0 jour l'UI imm\xe9diatement\n        this.updateSortIndicators(field, direction)\n        \n        // Charger les nouvelles donn\xe9es\n        this.loadData()\n        \n        // Animation de feedback\n        this.animateSortChange(event.currentTarget)\n    }\n\n    // S\xe9lection group\xe9e avanc\xe9e\n    selectAll(event) {\n        const isChecked = event.target.checked\n        const checkboxes = this.element.querySelectorAll('.bulk-select:not([disabled])')\n        \n        checkboxes.forEach(checkbox => {\n            checkbox.checked = isChecked\n            const id = parseInt(checkbox.value)\n            \n            if (isChecked) {\n                this.selectedItems.add(id)\n            } else {\n                this.selectedItems.delete(id)\n            }\n        })\n        \n        this.updateBulkActionsUI()\n        this.updateSelectedRowsUI()\n    }\n\n    selectItem(event) {\n        const checkbox = event.target\n        const id = parseInt(checkbox.value)\n        \n        if (checkbox.checked) {\n            this.selectedItems.add(id)\n        } else {\n            this.selectedItems.delete(id)\n        }\n        \n        this.updateBulkActionsUI()\n        this.updateSelectedRowsUI()\n        \n        // Mettre \xe0 jour le checkbox \"tout s\xe9lectionner\"\n        const selectAllCheckbox = this.element.querySelector('.bulk-select-all')\n        if (selectAllCheckbox) {\n            const totalCheckboxes = this.element.querySelectorAll('.bulk-select:not([disabled])').length\n            selectAllCheckbox.checked = this.selectedItems.size === totalCheckboxes\n            selectAllCheckbox.indeterminate = this.selectedItems.size > 0 && this.selectedItems.size < totalCheckboxes\n        }\n    }\n\n    // Actions group\xe9es\n    async executeBulkAction(event) {\n        event.preventDefault()\n        \n        const action = event.currentTarget.dataset.action\n        const selectedIds = Array.from(this.selectedItems)\n        \n        if (selectedIds.length === 0) {\n            this.showAlert('Veuillez s\xe9lectionner au moins un \xe9l\xe9ment.', 'warning')\n            return\n        }\n        \n        // Confirmation si n\xe9cessaire\n        const confirmMessage = event.currentTarget.dataset.confirmMessage\n        if (confirmMessage && !confirm(confirmMessage)) {\n            return\n        }\n        \n        try {\n            this.showLoading()\n            \n            const response = await fetch(event.currentTarget.href, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'X-Requested-With': 'XMLHttpRequest'\n                },\n                body: JSON.stringify({\n                    action: action,\n                    ids: selectedIds\n                })\n            })\n            \n            const result = await response.json()\n            \n            if (result.success) {\n                this.showAlert(result.message || 'Action ex\xe9cut\xe9e avec succ\xe8s.', 'success')\n                this.selectedItems.clear()\n                this.loadData() // Recharger les donn\xe9es\n            } else {\n                this.showAlert(result.message || 'Une erreur est survenue.', 'danger')\n            }\n            \n        } catch (error) {\n            console.error('Erreur lors de l\\'action group\xe9e:', error)\n            this.showAlert('Erreur de connexion. Veuillez r\xe9essayer.', 'danger')\n        } finally {\n            this.hideLoading()\n        }\n    }\n\n    // Export avanc\xe9 avec options\n    async exportData(event) {\n        event.preventDefault()\n        \n        const format = event.currentTarget.dataset.format\n        const includeSelected = event.currentTarget.dataset.selectedOnly === 'true'\n        \n        try {\n            const params = new URLSearchParams({\n                format: format,\n                entity: this.entityClassValue,\n                search: this.currentSearch,\n                selected_only: includeSelected,\n                selected_ids: includeSelected ? Array.from(this.selectedItems).join(',') : ''\n            })\n            \n            if (this.currentSort) {\n                params.append('sort', this.currentSort.field)\n                params.append('direction', this.currentSort.direction)\n            }\n            \n            // Cr\xe9er un lien de t\xe9l\xe9chargement temporaire\n            const downloadUrl = `${this.urlValue}/export?${params}`\n            const link = document.createElement('a')\n            link.href = downloadUrl\n            link.download = '' // Le nom sera d\xe9termin\xe9 par le serveur\n            link.style.display = 'none'\n            \n            document.body.appendChild(link)\n            link.click()\n            document.body.removeChild(link)\n            \n            this.showAlert('Export en cours de t\xe9l\xe9chargement...', 'info')\n            \n        } catch (error) {\n            console.error('Erreur lors de l\\'export:', error)\n            this.showAlert('Erreur lors de l\\'export. Veuillez r\xe9essayer.', 'danger')\n        }\n    }\n\n    // Chargement des donn\xe9es avec gestion d'erreurs avanc\xe9e\n    async loadData() {\n        if (this.isLoading) {\n            return // \xc9viter les requ\xeates multiples\n        }\n        \n        const requestTime = Date.now()\n        this.lastRequestTime = requestTime\n        \n        try {\n            this.isLoading = true\n            this.showLoading()\n            \n            const params = new URLSearchParams({\n                page: this.currentPage,\n                search: this.currentSearch,\n                entity: this.entityClassValue\n            })\n            \n            if (this.currentSort) {\n                params.append('sort', this.currentSort.field)\n                params.append('direction', this.currentSort.direction)\n            }\n            \n            const controller = new AbortController()\n            const timeoutId = setTimeout(() => controller.abort(), 30000) // Timeout 30s\n            \n            const response = await fetch(`${this.urlValue}?${params}`, {\n                signal: controller.signal,\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest'\n                }\n            })\n            \n            clearTimeout(timeoutId)\n            \n            // V\xe9rifier si cette requ\xeate est toujours la plus r\xe9cente\n            if (requestTime < this.lastRequestTime) {\n                return // Une requ\xeate plus r\xe9cente est en cours\n            }\n            \n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`)\n            }\n            \n            const data = await response.json()\n            \n            // Mettre \xe0 jour l'interface\n            this.updateTable(data.rows)\n            this.updatePagination(data.pagination)\n            this.updateInfo(data.pagination)\n            \n            // \xc9mettre un \xe9v\xe9nement personnalis\xe9\n            this.dispatch('dataLoaded', { detail: data })\n            \n        } catch (error) {\n            if (error.name === 'AbortError') {\n                console.log('Requ\xeate annul\xe9e (timeout)')\n                this.showAlert('La requ\xeate a pris trop de temps. Veuillez r\xe9essayer.', 'warning')\n            } else {\n                console.error('Erreur lors du chargement:', error)\n                this.showError('Erreur de chargement des donn\xe9es')\n            }\n        } finally {\n            this.isLoading = false\n            this.hideLoading()\n        }\n    }\n\n    // Gestion des raccourcis clavier\n    handleKeyboardShortcuts(event) {\n        // Ctrl/Cmd + F : Focus sur la recherche\n        if ((event.ctrlKey || event.metaKey) && event.key === 'f') {\n            event.preventDefault()\n            if (this.hasSearchInputTarget) {\n                this.searchInputTarget.focus()\n                this.searchInputTarget.select()\n            }\n        }\n        \n        // \xc9chap : Nettoyer la recherche\n        if (event.key === 'Escape' && this.hasSearchInputTarget && this.searchInputTarget === event.target) {\n            this.searchInputTarget.value = ''\n            this.search({ target: this.searchInputTarget })\n        }\n        \n        // Ctrl/Cmd + A : S\xe9lectionner tout\n        if ((event.ctrlKey || event.metaKey) && event.key === 'a' && this.selectedItems.size > 0) {\n            event.preventDefault()\n            const selectAllCheckbox = this.element.querySelector('.bulk-select-all')\n            if (selectAllCheckbox) {\n                selectAllCheckbox.checked = true\n                this.selectAll({ target: selectAllCheckbox })\n            }\n        }\n    }\n\n    // Utilitaires\n    debounce(func, wait) {\n        let timeout\n        return function executedFunction(...args) {\n            const later = () => {\n                clearTimeout(timeout)\n                func(...args)\n            }\n            clearTimeout(timeout)\n            timeout = setTimeout(later, wait)\n        }\n    }\n\n    showAlert(message, type = 'info') {\n        // Cr\xe9er et afficher une alerte Bootstrap\n        const alertHTML = `\n            <div class=\"alert alert-${type} alert-dismissible fade show\" role=\"alert\">\n                ${message}\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n            </div>\n        `\n        \n        const alertContainer = this.element.querySelector('.alert-container') || this.element\n        const tempDiv = document.createElement('div')\n        tempDiv.innerHTML = alertHTML\n        \n        alertContainer.insertBefore(tempDiv.firstElementChild, alertContainer.firstChild)\n        \n        // Auto-suppression apr\xe8s 5 secondes\n        setTimeout(() => {\n            const alert = alertContainer.querySelector('.alert')\n            if (alert) {\n                alert.remove()\n            }\n        }, 5000)\n    }\n\n    trackSearchEvent(searchTerm) {\n        // Int\xe9gration avec Google Analytics, Matomo, etc.\n        if (typeof gtag !== 'undefined') {\n            gtag('event', 'search', {\n                event_category: 'DataTable',\n                event_label: this.entityClassValue,\n                value: searchTerm.length\n            })\n        }\n    }\n\n    // Auto-refresh\n    startAutoRefresh() {\n        if (this.autoRefreshValue > 0) {\n            this.refreshInterval = setInterval(() => {\n                if (!document.hidden && !this.isLoading) {\n                    this.loadData()\n                }\n            }, this.autoRefreshValue * 1000)\n        }\n    }\n\n    pauseAutoRefresh() {\n        if (this.refreshInterval) {\n            clearInterval(this.refreshInterval)\n            this.refreshInterval = null\n        }\n    }\n\n    resumeAutoRefresh() {\n        if (!this.refreshInterval && this.autoRefreshValue > 0) {\n            this.startAutoRefresh()\n        }\n    }\n}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"support-et-ressources",children:"Support et Ressources"}),"\n",(0,s.jsx)(n.h3,{id:"documentation-compl\xe8te",children:"Documentation Compl\xe8te"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\ud83d\udcd6 ",(0,s.jsx)(n.strong,{children:"Guide D\xe9veloppeur"})," : ",(0,s.jsx)(n.a,{href:"../developer-guide/architecture",children:"Architecture avanc\xe9e"})]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\udd27 ",(0,s.jsx)(n.strong,{children:"API Reference"})," : ",(0,s.jsx)(n.a,{href:"../api/overview",children:"Documentation API"})]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\udca1 ",(0,s.jsx)(n.strong,{children:"Exemples"})," : ",(0,s.jsx)(n.a,{href:"../examples/advanced-customization",children:"Cas d'usage avanc\xe9s"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"communaut\xe9-et-support",children:"Communaut\xe9 et Support"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\ud83d\udc1b ",(0,s.jsx)(n.strong,{children:"Issues GitHub"})," : ",(0,s.jsx)(n.a,{href:"https://github.com/Chancel18/SigmasoftDataTableBundle/issues",children:"Signaler un probl\xe8me"})]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\udcac ",(0,s.jsx)(n.strong,{children:"Discussions"})," : ",(0,s.jsx)(n.a,{href:"https://github.com/Chancel18/SigmasoftDataTableBundle/discussions",children:"Forum communautaire"})]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\udce7 ",(0,s.jsx)(n.strong,{children:"Support technique"})," : ",(0,s.jsx)(n.a,{href:"mailto:support@sigmasoft-solution.com",children:"support@sigmasoft-solution.com"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.em,{children:["Documentation r\xe9dig\xe9e par ",(0,s.jsx)(n.a,{href:"mailto:g.makela@sigmasoft-solution.com",children:"G\xe9d\xe9on MAKELA"})," - ",(0,s.jsx)(n.a,{href:"https://sigmasoft-solution.com",children:"Sigmasoft Solutions"})]})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);